{% extends "base.html" %}
{% block title %} Download Page{% endblock %}
{% block content %}
  <div class="container">
    <h2>Downloads </h2>
    <div class="well">
      <div class="row">
        <div class="col-xs-12">
          <a href="/download" class="btn btn-primary btn-block"> <b>Download The Beiwe App</b></a>
          <div class="text-center">
            You can also enter <b>studies.beiwe.org/download</b> directly into the browser of any device running the Android OS.
          </div>
        </div>
      </div>
      <h3> The Study Debugger </h3>
      The Study Debugger is a special version of the Beiwe App that includes several useful features for debugging and testing your surveys.  You must be logged in to download the Study Debugger.
      <div class="row">
        <div class="col-xs-12">
          <a href="/download_debug" class="btn btn-primary btn-block">Download Study Debugger </a>
        </div>
      </div>
    </div>
    <div class="well">
      If you encounter a problem with the app or a message stating that Beiwe has stopped working, please send the Beiwe Administrators a bug report.  Remember to include the version of the app you were using (Beta or Production, Study Debugger or Regular), the date you downloaded the app on, the version of Android OS on the device, and the full model name of the device you were using in addition to a description of your activity before the problem or crash occurred.
    </div>
    <h2> Data API Status </h2>
    <div class="well">
      In the event of planned downtime there will be a notice here stating when the Data Access API and download page will be unavailable.
      {# There is downtime planned starting the evening of Friday March 4th and continuing until data processing tasks are completed. Expected downtime is a limited to a few hours. #}
    </div>

    {# <h2> Beiwe Betas </h2>
    <div class="well">
      The Beta versions of the Beiwe and Study Debugger apps are in-development and may change without warning.  They may contain updates and bug-fixes, or they may contain unfinished or undocumented features.  Make sure to read the description below of how the current beta differs from the production version, and what features in the app will require testing.
    </div> #}
    <h3> Beta Status: </h3>
    <div class="well">
      {# this text is going to change whenever we upload a new version of the app, keep it simple #}
      There is currently no Beta version of the Beiwe app.
      {# <div class="row">
        <div class="col-xs-12">
          <a href="/download_beta" class="btn btn-primary btn-block">Download the BETA version of the Beiwe app </a>
          <div class="text-center">
            You must be logged in to download either of the Beta apps.
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <a href="/download_beta_debug" class="btn btn-primary btn-block">Download the BETA version of the Study Debugger </a>
        </div>
      </div> #}
    </div>

    <h3> Changelog: </h3>
    <div class="well">
      <b> 10/27/16 - Significant Update </b>
      <p> This update to Beiwe includes compatibility with Android 6 and several new features. </p>
      <p>
        <b>Feature: </b> Android 6 App Standby has been bypassed to improve functionality on Android 6.<br>
        <b>Feature: </b> Android 6 Doze feature behavior is well defined, and the Power State data stream now includes a log for that feature.<br>
        <b>Feature: </b> Enhanced (uncompressed) audio surveys have been introduced, as well as additional controls over regular audio surveys. <br>
        <b>Feature: </b> There is a new device setting that allows Beiwe to upload data over the cellular connection.<br>
      </p>
      <p> <b>Fix: </b> Audio survey files now provide a survey ID when uploaded. <br> </p>
      <p> <b> Data Stream Changes </b> </p>
      Due to limitations imposed in Bluetooth on Android 6+, the Bluetooth data stream may not be reliable. Please review the following to determine if this affects you:
      <ul class="list">
        <li> Bluetooth LE broadcasts (the mechanism Beiwe uses to periodically send out pings to nearby, listening devices) on Android 6 will now cycle through many different random MAC addresses instead of broadcasting the real one. (iPhones have also done this since at least iOS 8, it is an anti-tracking measure.) </li>
        <li> Android no longer allows Beiwe to access the device's true MAC address (some devices will continue to report it anyway, see below). Instead, all devices now return <i>the same</i> default address when queried for the MAC address in the Identifiers data stream.</li>
        <li>We have been able to implement a method to report the correct MAC address for the Identifiers data stream. It is not predictable which devices this will work for, but it should at least be consistent across identical devices running the same version of Android 6. The mechanism we use is expected to be phased out in Android 7. </li>
      </ul>
      Power State
      <ul>
        <li> Android 6.0+ now reports when the device enters and leaves Doze mode in the Power State data stream. <br> </li>
        <li>Android 5.0+ now reports when the device enters and leaves Android's Power Save mode in the Power State data stream. <br> </li>
      </ul>
    </ul>
    <p>
    <b> Other Changes </b> </p>
    <p> When running under Android 6, due to the nature of the permissions system, it is no longer possible to guarantee data stream content directly after registration. Recommended procedure is to reboot the device after installing Beiwe and providing permissions. </p>
    <p> <b> Known Issue: </b> Due to a bug in Android the Beiwe app may not uninstall properly. To bypass this we recommend uninstalling and then rebooting the device if you plan to reinstall Beiwe, or you can manually fix this issue by assigning all necessary permissions in the Beiwe app's settings page in system settings.  This issue presents as an immediate crash of the Beiwe app after installation but before registering under a study. </p>
    <p>The UI for audio surveys has been streamlined.</p>

    This is version 2.0 of the Beiwe app, the version identifier in the Device Identifiers data stream is <b>10</b>.
  </div>
  <div class="well">
    <p style='margin-bottom:0px'>3/24/16 - (Beiwe Android App version 4) Added further device and software information fields to the identifiers file gathered at user registration.
      <div style='margin-left:18px'>
        <b>Feature</b>: The Beiwe app now has a built-in crash reporter. When the app encounters a bug that would cause it to crash it, instead creates a crash report. Beiwe then restarts itself so that background data gathering and functionality are not significantly interrupted. This crash report will be uploaded to the Beiwe server during the next upload operation. <br>
      <b>Behavior</b>: Because Beiwe now automatically restarts itself, users will no longer receive a notification that Beiwe has stopped working. If the user is viewing the app while it encounters a crash the app will still exit without warning. </div> </p>
      <p>11/30/15 - (Beiwe Android App version 1) Added additional data fields to the device information gathered at user registration, additionally added version numbers to that data. </p>
      <p>10/8/15 - Bug fix: fixed issue where the device would fail to record GPS and Accelerometer data until the Beiwe service was reset.</p>
      <p>10/8/15 - Scheduling logic for GPS, Accelerometer, and Wifi has been made more aggressive, especially when recovering from situations where the device is blocked from recording data streams. </p>
      <p> 9/23/15 - Feature: the Beiwe app is now compatible with the Randomize Survey Questions feature.</p>
    </div>
  </div>
{% endblock %}