{% extends "base.html" %}

{% block title %} Download Page{% endblock %}

{% block content %}
  <div class="container">
    <h2>Downloads </h2>
    <div class="well">
      <div class="row">
        <div class="col-xs-12">
          <a href="/download" class="btn btn-primary btn-block"> <b>Download The Beiwe App</b></a>
          <div class="text-center">
            You can also enter <b>studies.beiwe.org/download</b> directly into the browser of any device running the Android OS.
          </div>
        </div>
      </div>


      <h3> The Study Debugger </h3>
      The Study Debugger is a special version of the Beiwe App that includes several useful features for debugging and testing your surveys.  You must be logged in to download the Study Debugger.
      <div class="row">
        <div class="col-xs-12">
          <a href="/download_debug" class="btn btn-primary btn-block">Download Study Debugger </a>
        </div>
      </div>
    </div>

    <div class="well">
      If you encounter a problem with the app or a message stating that Beiwe has stopped working, please send the Beiwe Administrators a bug report.  Remember to include the version of the app you were using (Beta or Production, Study Debugger or Regular), the date you downloaded the app on, the version of Android OS on the device, and the full model name of the device you were using in addition to a description of your activity before the problem or crash occurred.
    </div>

    <h2> Data API Status </h2>
    <div class="well">
      <p><b> In the event of planned downtime there will be a notice here stating when the Data Access API and download page will be unavailable. </b> </p>
      {# <p> There is downtime planned starting the evening of Friday March 4th and continuing until data processing tasks are completed. Expected downtime is a limited to a few hours. </p> #}
    </div>


    <h2> Beiwe Betas </h2>
    <div class="well">
      The Beta versions of the Beiwe and Study Debugger apps are in-development and may change without warning.  They may contain updates and bug-fixes, or they may contain unfinished or undocumented features.  Make sure to read the description below of how the current beta differs from the production version, and what features in the app will require testing.
    </div>

    <h3> Beta Status: </h3>
      <div class="well">
      {# this text is going to change whenever we upload a new version of the app, keep it simple #}
      {# <p><b> There is currently no Beta version of the Beiwe app. </b> </p>  #}
        <p>
          <b> The current version of the Beiwe Beta includes updates for compatibility with Android 6, numerous improvements to the underlying code, an improved error-reporting capability, and several new features.</b>
        </p>
        <p>
          <b>Feature: </b> Android 6 App Standby bypassed for functionality on Android 6.<br>
          <b>Feature: </b> Android 6 compatibility with the OS Doze feature.<br>
          <b>Feature: </b> Enhanced (uncompressed) audio surveys, as well as additional controls over regular audio surveys. <br>
          <b>Feature: </b> There is a new device setting that allows Beiwe to upload data over the cellular connection; improved UI for audio surveys; fixed some typos.
        </p>
        
        <p>
          <b>Fix: </b> A bug causing a crash after reinstallation on some Android 6 devices should be largely resolved. <b> Update: </b> a similar issue has appeared, see known issue below. <br> 
          <b>Fix: </b> Audio survey files now provide a survey ID when uploaded.
        </p>

        <p>
          <b>Known Issue: </b> Due to a bug in Android the Beiwe app may not uninstall properly. To bypass this we recommend uninstalling and then rebooting the device if you plan to reinstall Beiwe, or you can manually fix this issue by assigning all necessary permissions in the Beiwe app's settings page in system settings.  This issue presents as an immediate crash of the Beiwe app after installation but before registering under a study.
        </p>

        <p>
          <b> Other Changes: </b> When running under Android 6, due to the nature of the permissions system, it is no longer possible to guarantee data stream content directly after registration. Recommended procedure is to reboot the device after installing Beiwe and providing permissions.
        </p>

        The most current version of the beta as it appears in the app's info is 2.0-RC2, the version identifier in the device identifiers data stream is 9.

      </div>
        <div class="row">
          <div class="col-xs-12">
            <a href="/download_beta" class="btn btn-primary btn-block">Download the BETA version of the Beiwe app </a>
            <div class="text-center">
              You must be logged in to download either of the Beta apps.
            </div>
          </div>
        </div>
      <div class="row">
        <div class="col-xs-12">
          <a href="/download_beta_debug" class="btn btn-primary btn-block">Download the BETA version of the Study Debugger </a>
        </div>
      </div>
      
    </div>

    <h3> Changelog: </h3>
    <div class="well">
      <p style='margin-bottom:0px'>3/24/16 - (Beiwe Android App version 4) Added further device and software information fields to the identifiers file gathered at user registration.
      <div style='margin-left:18px'> <b>Feature</b>: The Beiwe app now has a built-in crash reporter. When the app encounters a bug that would cause it to crash it, instead creates a crash report. Beiwe then restarts itself so that background data gathering and functionality are not significantly interrupted. This crash report will be uploaded to the Beiwe server during the next upload operation. <br>
      <b>Behavior</b>: Because Beiwe now automatically restarts itself, users will no longer receive a notification that Beiwe has stopped working. If the user is viewing the app while it encounters a crash the app will still exit without warning. </div> </p>
      <p>11/30/15 - (Beiwe Android App version 1) Added additional data fields to the device information gathered at user registration, additionally added version numbers to that data. </p>
      <p>10/8/15 - Bug fix: fixed issue where the device would fail to record GPS and Accelerometer data until the Beiwe service was reset.</p>
      <p>10/8/15 - Scheduling logic for GPS, Accelerometer, and Wifi has been made more aggressive, especially when recovering from situations where the device is blocked from recording data streams. </p>
      <p> 9/23/15 - Feature: the Beiwe app is now compatible with the Randomize Survey Questions feature.</p>
    </div>

  </div>

{% endblock %}